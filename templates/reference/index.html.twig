{# index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Référentiel CSS{% endblock %}

{% block head %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-twilight.min.css" rel="stylesheet" />
    <style>
    /* modification du css de prism */
        .token.property {
            color: #ff6347; /* Exemple pour les propriétés CSS */
        }

        .token.selector {
            color: #32cd32; /* Exemple pour les sélecteurs CSS */
        }

        .token.punctuation {
            color: #f0e68c; /* Exemple pour la ponctuation */
        }
    </style>
{% endblock %}

{% block body %}
    <div id="root"></div>
    <main class="main">
        <!-- Zone de prévisualisation -->
        <section class="preview">
            <h2>Prévisualisation</h2>
            <div class="box red-box">Carré rouge</div>
            <div class="box blue-box">Rectangle bleu</div>
            <div class="box circle yellow-circle">Cercle jaune</div>
            <div class="box shadow-box">Boîte avec ombre</div>
            <div class="box positioned-box">Position absolue</div>

            <div class="grid-container">
                <div class="grid-item green-box">Grid Item 1</div>
                <div class="grid-item yellow-box">Grid Item 2</div>
            </div>

            <!-- Flex Layout -->
            <div class="flex-container">
                <div class="flex-item red-box">Flex Item 1</div>
                <div class="flex-item blue-box">Flex Item 2</div>
                <div class="flex-item green-box">Flex Item 3</div>
            </div>
        </section>

        <!-- Zone de code avec coloration -->
        <section class="code-section">
            <h2>Code source</h2>
            <h3>HTML</h3>
            <pre><code class="language-html">
{{ '<div class="box red-box">Carré rouge</div>'|escape('html') }}
{{ '<div class="box blue-box">Rectangle bleu</div>'|escape('html') }}
{{ '<div class="box circle yellow-circle">Cercle jaune</div>'|escape('html') }}
{{ '<div class="box shadow-box">Boîte avec ombre</div>'|escape('html') }}
{{ '<div class="box positioned-box">Position absolue</div>'|escape('html') }}

{{ '<div class="grid-container">'|escape('html') }}
{{ '    <div class="grid-item green-box">Grid Item 1</div>'|escape('html') }}
{{ '    <div class="grid-item yellow-box">Grid Item 2</div>'|escape('html') }}
{{ '</div>'|escape('html') }}

{{ '<div class="flex-container">'|escape('html') }}
{{ '    <div class="flex-item red-box">Flex Item 1</div>'|escape('html') }}
{{ '    <div class="flex-item blue-box">Flex Item 2</div>'|escape('html') }}
{{ '    <div class="flex-item green-box">Flex Item 3</div>'|escape('html') }}
{{ '</div>'|escape('html') }}
            </code></pre>

            <h3>CSS</h3>
            <pre><code class="language-css">
/* Styles des boîtes */
.box {
    margin: 10px auto;
    padding: 10px;
    text-align: center;
    color: #fff;
    border: 2px solid #fff;
    display: inline-block;
    transition: all 0.3s ease;
}

/* Styles pour Grid Container */
.grid-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin-bottom: 40px;
  border: 4px solid #2980b9; // Bordure visible
  background-color: #d6eaf8;
  padding: 15px;

  .grid-item {
    padding: 20px;
    text-align: center;
    border-radius: 5px;
    border: 2px solid #3498db;
    background-color: #f9f9f9;
    font-weight: bold;
    transition: transform 1s ease-in-out; // Effet fluide sur la rotation

    // Gestion des couleurs spécifiques
    &.red-box { background-color: #e74c3c; }
    &.blue-box { background-color: #3498db; }
    &.green-box { background-color: #2ecc71; }
    &.yellow-box { background-color: #f39c12; }

    &:hover {
      transform: rotate(180deg);
    }
  }
}

/* Styles pour Flex Container */
.flex-container {
  display: flex;
  justify-content: space-between;
  gap: 20px;
  margin-bottom: 40px;
  border: 4px solid #9b59b6; // Bordure visible
  background-color: #e8daef;
  padding: 15px;

  .flex-item {
    padding: 20px;
    text-align: center;
    border-radius: 5px;
    border: 2px solid #8e44ad;
    background-color: #f9f9f9;
    font-weight: bold;
    transition: transform 1s ease-in-out; // Effet fluide sur la rotation
    
    // Gestion des couleurs spécifiques
    &.red-box { background-color: #e74c3c; }
    &.blue-box { background-color: #3498db; }
    &.green-box { background-color: #2ecc71; }
    &.yellow-box { background-color: #f39c12; }

    &:hover {
      transform: rotate(180deg);
    }
  }
}
            </code></pre>
        </section>
    </main>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('build/app-ts.js') }}"></script> <!-- Webpack JS -->
    <!-- Charger Prism.js à partir d'un CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <!-- Initialisation de Prism après que le DOM est chargé -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            Prism.highlightAll();
        });
    </script>
{% endblock %}
