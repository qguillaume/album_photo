{% extends 'base.html.twig' %}

{% block title %}{{ 'connexion'|trans }}{% endblock %}

{% block body %}
    <h2>{{ 'connexion'|trans }}</h2>

    {# Gestion des erreurs de connexion #}
    {% if error is defined and error %}
        <div class="form-group">
            <div class="flash-error">
                {{ error.messageKey|trans(error.messageData, 'security') }}
            </div>
        </div>
    {% endif %}

    {# Affichage des messages flash de succ√®s #}
    {% for message in app.flashes('success') %}
        <div class="form-group">
            <div class="flash-success">
                {{ message|trans }}
            </div>
        </div>
    {% endfor %}

    {# Formulaire de connexion #}
    {{ form_start(loginForm) }}
        <div class="form-group">
            {{ form_widget(loginForm.username) }}
        </div>

        <div class="form-group">
            {{ form_widget(loginForm.password) }}
        </div>
        
        <div class="form-group">
            {{ form_widget(loginForm.login, {'attr': {'class': 'green-button'}}) }}
        </div>
    {{ form_end(loginForm) }}
{% endblock %}
