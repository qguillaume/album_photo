{% extends 'base.html.twig' %}

{% block body %}
<h2>Albums</h2>

<div class="albums-container">
    {% for album in albums %}
        {% if album.isVisible and album.isApproved %}
            <div class="album">
                <a href="{{ path('photos_by_album', { id: album.id }) }}">
                    <img src="{{ album.imagePath is not null ? asset('uploads/albums/' ~ album.imagePath) : asset('images/folder-icon.png') }}" 
                        alt="Dossier" class="album-icon">
                    <p>{{ album.nomAlbum }}</p>
                </a>

                {% if is_granted('ROLE_ADMIN') %}
                    <!-- Conteneur React pour modifier/supprimer -->
                    <div id="album-controls-{{ album.id }}" data-album-id="{{ album.id }}" data-album-name="{{ album.nomAlbum }}"></div>
                {% endif %}
            </div>
        {% endif %}
    {% endfor %}
</div>

{% endblock %}